## Env setup
#conda
mkdir -p ~/miniconda3
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda3/miniconda.sh
bash ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3
rm -rf ~/miniconda3/miniconda.sh
~/miniconda3/bin/conda init bash
~/miniconda3/bin/conda init zsh

#initialize
conda create -n llava python=3.10 -y
conda activate llava
pip install --upgrade pip  # enable PEP 660 support
pip install -e .

pip install -e ".[train]"
pip install flash-attn --no-build-isolation


python /root/LLaVA-Recipe/llava/eval/model_vqa.py \
    --model-path liuhaotian/llava-v1.5-7b \
    --question-file \
    /root/LLaVA-Recipe/llava/eval/table/question.jsonl\
    --image-folder \
    /root/LLaVA-Recipe/Dataset/dataset-200m/images \
    --answers-file \
    /root/LLaVA-Recipe/llava/eval/table/answer-file.jsonl

python /root/LLaVA-Recipe/llava/eval/model_vqa.py \
    --model-path /root/LLaVA-Recipe/checkpoints/llava/llava-pf-7b \
    --model-base lmsys/vicuna-7b-v1.5 \
    --question-file \
    /root/LLaVA-Recipe/llava/eval/table/question.jsonl\
    --image-folder \
    /root/LLaVA-Recipe/Dataset/dataset-200m/images \
    --answers-file \
    /root/LLaVA-Recipe/llava/eval/table/answer-file.jsonl